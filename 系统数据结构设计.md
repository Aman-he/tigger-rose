# 系统数据结构设计
## 5.1逻辑结构设计要点

1.用户信息表(user)：
	用户(用户编号，学号，账号，密码，上传历史，下载历史)
2.文件信息表(file):
	文件(文件编号，文件名称，文件所属课程，上传时间，文件上传者编号，文件描述)
3.课程信息表(course):
	课程(课程编号，课程名称，课程学年，任课教师)
4.管理员信息表(suser):
	管理员(管理员编号，学号，账号，密码)

![image-20200419210742958](C:\Users\ybl\AppData\Roaming\Typora\typora-user-images\image-20200419210742958.png)

## 5.2物理结构设计要点
用户表

| 字段名称     | 字段       | 类型        | 备注       |
| ------------ | ---------- | ----------- | ---------- |
| 用户ID       | user_id    | Integer(8)  | 主键，非空 |
| 用户名       | user_name  | varchar(64) | 非空       |
| 用户密码     | password   | varchar(64) | 非空       |
| 用户标识     | user_type  | varchar(64) | 非空       |
| 登录时间     | login_time | datetime    |            |
| 上次登录时间 | last_time  | datetime    |            |





用户类型表

| 字段名称 | 字段      | 类型        | 备注              |
| -------- | --------- | ----------- | ----------------- |
| 用户标识 | user_type | varchar(64) | 学生,教师，管理员 |
| 用户名   | user_name | varchar(64) | 非空              |
| 用户ID   | user_id   | Integer(8)  | 非空              |



权限表

| 字段名称 | 字段        | 类型         | 备注                       |
| -------- | ----------- | ------------ | -------------------------- |
| 用户标识 | user_type   | varchar(64)  | 非空                       |
| 权限描述 | description | varchar(200) |                            |
| 权限名称 | right_name  | varchar(64)  | 非空                       |
| 用户ID   | user_id     | Integer(8)   |                            |
| 权限类型 | right_type  | Integer      | 非空（0:可访问，1:可授权） |



操作日志

| 字段名称 | 字段       | 类型         | 备注      |
| -------- | ---------- | ------------ | --------- |
| 日志ID   | log_id     | bigint       | 主键,非空 |
| 操作类型 | op_type    | Integer(8)   | 非空      |
| 操作内容 | op_content | varchar(200) | 非空      |
| 用户ID   | user_id    | Integer(8)   | 非空      |
| 操作时间 | op_time    | datetime     | 非空      |
| 操作备注 | op_mark    | varchar(200) | 非空      |



课程信息表(course)

| 字段名称 | 字段      | 类型    | 备注 | 
| ------   | --------  | ------- | ---- |
| 课程编号 | c_id      | varchar(16) |主键，非空  |
| 课程名称 | c_name    | varchar(16) |非空  |
| 课程学年 | c_time    | datetime    |非空  |


文件存储区

| 字段名称 | 字段      | 类型         | 备注 |
| -------- | --------- | ------------ | ---- |
| 文件ID   | file_id   | Integer(16)  | 非空 |
| 文件类型 | file_type | varchar(16)  |      |
| 课程名称 | c_name    | varchar(16)  |      |
| 内容简介 | file_info | varchar(200) |      |
| 操作时间 | op_time   | datetime     | 非空 |
| 文件作者 | file_aut  | varchar(20)  |      |
| 用户名   | user_name | varchar(64)  |      |
| 用户ID   | user_id   | Integer(8)   | 非空 |



## 5.3数据结构与程序的关系
 数据结构为关系型数据库，所以再程序中可以使用SQL语句进行交互，交互过程中采用通用的数据反问接口。为了保持良好的程序架构，对数据库访问采用DAO设计模式实现，提高维护性和扩张性。
