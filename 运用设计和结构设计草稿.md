

结构设计草稿
---

用户表

|字段名称|字段|类型|备注|
| ---- | ---- | ---- | ---- |
| 用户ID | user_id | Integer(8) | 主键，非空 |
| 用户名 | user_name | varchar(64) | 非空 |
| 用户密码 | user_pad | varchar(64) | 非空 |
| 用户标识 | to_id | varchar(64) | 非空       |
| 登录时间 | login_time | datetime |            |
| 上次登录时间 | last_time | datetime |  |





用户类型表

| 字段名称 | 字段      | 类型        | 备注 |
| -------- | --------- | ----------- | ---- |
| 用户标识 | to_id     | varchar(64) | 非空 |
| 用户类型名称 | role_name | varchar(64) | 学生，教师，管理员 |
| 用户名 | user_name | varchar(64) | 非空 |
| 用户ID | user_id | Integer(8) | 非空 |



权限表

| 字段名称 | 字段      | 类型        | 备注 |
| -------- | --------- | ----------- | ---- |
| 用户标识 | to_id     | varchar(64) | 非空 |
| 权限描述| description | varchar(200) ||
| 权限名称| right_name | varchar(64) |非空|
| 用户ID | user_id | Integer(8) ||
| 权限类型 | right_type | Integer | 非空（0:可访问，1:可授权） |



操作日志
| 字段名称 | 字段      | 类型        | 备注 |
| -------- | --------- | ----------- | ---- |
| 日志ID | log_id | bigint |主键,非空|
| 操作类型 | op_type | Integer(8) | 非空      |
| 操作内容 | content | varchar(200) | 非空      |
| 用户ID | user_id  | Integer(8)   |非空|
| 操作时间 | gen_time | datetime |非空|
| 操作备注 | Re_mark | varchar(200) |非空|



文件存储区

| 字段名称 | 字段      | 类型        | 备注 |
| -------- | --------- | ----------- | ---- |
| 文件ID | file_id | Integer(16) |非空|
| 文件类型 | file_type | varchar(16) |      |
| 文件分类 | file_arr | varchar(16) ||
| 内容简介 | file_info | varchar(200) ||
| 操作时间 | gen_time  | datetime     |非空|
| 文件作者 | file_aut  | varchar(20) ||
| 用户名   | user_name | varchar(64)  ||
| 用户ID | user_id | Integer(8) |非空|







运用设计
---




一. 字典说明

用户表：存储所有用户的一些基本信息，必须包含用户名、密码、ID、标识，还可以包含一些其他信息，如登录时间等
|字段|类型|长度|主键|
| ---- | ---- | ---- |---- |
| user_id | Integer|8 | 主键 |
| user_name | varchar|64 |  |
| user_pad | varchar|64 |  |
| to_id | varchar | 64   |        |
| login_time | datetime | 8 ||
| last_time | datetime | 8 ||


用户类型表:对用户类型信息的描述

|字段|类型|长度|主键|
| ---- | ---- | ---- |---- |
| to_id     | varchar|64 | 非空 |
| role_name | varchar|64 | 学生，教师，管理员 |
| user_name | varchar|64 | 非空 |
| user_id | Integer|8 | 非空 |

权限表:与类型表结合，对用户拥有的权限进行限制区分。

|字段|类型|长度|主键|
| ---- | ---- | ---- |---- |
| to_id     | varchar|64 | 非空 |
| description | varchar|200 ||
| right_name | varchar|64 |非空|
| user_id | Integer|8 ||
| right_type | Integer |  |非空（0:可访问，1:可授权）|

操作日志:对用户进行的操作进行记录。
|字段|类型|长度|主键|
| ---- | ---- | ---- |---- |
| log_id | bigint|  |主键,非空|
| op_type | Integer| 8 | 非空      |
| content | varchar| 200 | 非空      |
| user_id  | Integer| 8   |非空|
| gen_time | datetime|  |非空|
| Re_mark | varchar| 200 |非空|


文件存储区：对文件存储信息进行记录，方便下一次查找。

|字段|类型|长度|主键|
| ---- | ---- | ---- |---- |
| file_id | Integer|16 |非空|
| file_type | varchar|16 |      |
| file_arr | varchar|16 ||
| file_info | varchar|200 ||
| gen_time  | datetime|     |非空|
| file_aut  | varchar|20 ||
| user_name | varchar|64  ||
| user_id | Integer|8 |非空|






|数据结构名|属性|
| ---- |---- |
| 用户表 | 用户ID，用户名，密码，标识，登录时间，上次登录时间 |
| 用户类型表 | 用户标识，用户类型名称，用户名，用户ID |
| 权限表 | 标识，权限描述，权限名称，用户ID，权限类型 |
| 操作日志 | 日志ID，操作类型，操作内容，用户ID，操作时间，操作备注 |
| 文件存储表 | 文件ID，文件类型，文件分类，内容简介，操作时间，文件作者，用户名，用户ID |





**二. 安全保密设计**

  数据库作为管理系统的基础，通常保存着重要的用户信息和文件信息。由于涉及到用户信息和文件存储信息，数据的安全性和完整性显得尤为重要。系统中的数据一旦丢失，将需要很长时间进行恢复，有时甚至使信息系统不得不从系统初始化阶段重新开始运行。每天进行数据备份是保障系统安全的重要手段。数据备份需要严格按照事先制定的备份与故障恢复策略进行，并落实备份登记和检查措施。另外，系统设置用户的标识以鉴定是否是合法用户，并要求合法用户设置其密码，保证用户身份不被盗用；系统对不同的数据设置不同的访问级别，限制访问用户可处理的数据内容；系统对不同用户设置不同的权限，区分不同的用户，如区分学生、教师和管理员。具体的系统配置应当根据系统实际运行情况做进一步的调整。
